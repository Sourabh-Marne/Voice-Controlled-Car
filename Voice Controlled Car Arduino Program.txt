#include <SoftwareSerial.h>

//setting TX and RX
SoftwareSerial BT(0, 1);
String voice;

void setup() {
	BT.begin(9600);
	Serial.begin(9600);
	pinMode(4,OUTPUT);
	pinMode(3,OUTPUT);
	pinMode(5,OUTPUT);
	pinMode(6,OUTPUT);
}

void loop() {
  while (BT.available()){  //Check for sound from Bluetooth		
		delay(10); //to stabilize  
		char c = BT.read(); 
		voice += c;//build the string }

if (voice.length() > 0) {
    Serial.println(voice);

if(voice == "*forward#")
  {
    digitalWrite(3,HIGH);
    digitalWrite(4,HIGH);
    digitalWrite(5,LOW);
    digitalWrite(6,LOW);
    delay(100);
  }

else if(voice == "*back#")
  {
    digitalWrite(3,LOW);
    digitalWrite(4,LOW);
    digitalWrite(5,HIGH);
    digitalWrite(6,HIGH);
    delay(100);
  }

 else if (voice == "*left#")
  {
    digitalWrite(3,HIGH);
    digitalWrite(4,LOW);
    digitalWrite(5,LOW);
    digitalWrite(6,LOW);
    delay(800);
	
    digitalWrite(3,HIGH);
    digitalWrite(4,HIGH);
    digitalWrite(5,LOW);
    digitalWrite(6,LOW);
    delay(100); 
  }

 else if (voice == "*right#")
 {
   digitalWrite(3,LOW);
   digitalWrite(4,HIGH);
   digitalWrite(5,LOW);
   digitalWrite(6,LOW);
   delay(800);
   
   digitalWrite(3,HIGH);
   digitalWrite(4,HIGH);
   digitalWrite(5,LOW);
   digitalWrite(6,LOW);
   delay(100);
 }

 else if (voice == "*stop#")
 {
   digitalWrite(3,LOW);
   digitalWrite(4,LOW);
   digitalWrite(5,LOW);
   digitalWrite(6,LOW);
   delay(100);
 }

 voice="";}} //Reset to empty string
